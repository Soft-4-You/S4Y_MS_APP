import{r as u,p as L,q as s,s as p,d as i,e as B,f as M,i as r,k as t,l,j as f,t as v,n as P}from"./index-0d364d6b.js";import{C as $}from"./CustomerService-cbe06d98.js";import{P as O}from"./ProductService-74c45874.js";const W={class:"grid"},H={class:"col-12"},Q={class:"card"},R={class:"flex justify-content-between flex-column sm:flex-row"},j={class:"flex align-items-center gap-2"},K=["alt","src"],q={class:"flex align-items-center gap-2"},z={class:"flex align-items-center gap-2"},Z={__name:"Clients",setup(J){const h=u(null),V=u(null),C=u(null),d=u(null),g=u(null),S=u(null),x=u(null),_=new $,U=new O;L(()=>{U.getProductsWithOrdersSmall().then(o=>x.value=o),_.getCustomersLarge().then(o=>{h.value=o,g.value=!1,h.value.forEach(a=>a.date=new Date(a.date))}),_.getCustomersLarge().then(o=>V.value=o),_.getCustomersMedium().then(o=>C.value=o),S.value=!1,b()});const b=()=>{d.value={global:{value:null,matchMode:s.CONTAINS},name:{operator:p.AND,constraints:[{value:null,matchMode:s.STARTS_WITH}]},"country.name":{operator:p.AND,constraints:[{value:null,matchMode:s.STARTS_WITH}]},representative:{value:null,matchMode:s.IN},date:{operator:p.AND,constraints:[{value:null,matchMode:s.DATE_IS}]},balance:{operator:p.AND,constraints:[{value:null,matchMode:s.EQUALS}]},status:{operator:p.OR,constraints:[{value:null,matchMode:s.EQUALS}]},activity:{value:[0,100],matchMode:s.BETWEEN},verified:{value:null,matchMode:s.EQUALS}}},T=()=>{b()},w=o=>o.toLocaleString("en-US",{style:"currency",currency:"USD"}),k=o=>o.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"});return(o,a)=>{const m=i("Button"),D=i("InputIcon"),y=i("InputText"),I=i("IconField"),c=i("Column"),N=i("Calendar"),F=i("InputNumber"),A=i("TriStateCheckbox"),E=i("DataTable");return B(),M("div",W,[r("div",H,[r("div",Q,[a[5]||(a[5]=r("h5",null,"Clients",-1)),t(E,{value:h.value,paginator:!0,rows:15,dataKey:"id",rowHover:!0,filters:d.value,"onUpdate:filters":a[2]||(a[2]=e=>d.value=e),filterDisplay:"menu",loading:g.value,globalFilterFields:["name","country.name","representative.name","balance","status"]},{header:l(()=>[r("div",R,[t(m,{type:"button",icon:"pi pi-filter-slash",label:"Clear",outlined:"",onClick:a[0]||(a[0]=e=>T())}),t(I,{iconPosition:"left"},{default:l(()=>[t(D,{class:"pi pi-search"}),t(y,{modelValue:d.value.global.value,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value.global.value=e),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])]),_:1})])]),empty:l(()=>a[3]||(a[3]=[f(" No customers found. ")])),loading:l(()=>a[4]||(a[4]=[f(" Loading customers data. Please wait. ")])),default:l(()=>[t(c,{field:"name",header:"Name",style:{"min-width":"12rem"}},{body:l(({data:e})=>[r("div",j,[r("img",{alt:e.representative.name,src:`https://primefaces.org/cdn/primevue/images/avatar/${e.representative.image}`,style:{width:"32px"}},null,8,K),r("span",null,v(e.name),1)])]),filter:l(({filterModel:e})=>[t(y,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(c,{header:"Username",filterField:"country.name",style:{"min-width":"12rem"}},{body:l(({data:e})=>[r("div",q,[r("span",null,"_x_"+v(e.country.name)+"_x_",1)])]),filter:l(({filterModel:e})=>[t(y,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by country"},null,8,["modelValue","onUpdate:modelValue"])]),filterclear:l(({filterCallback:e})=>[t(m,{type:"button",icon:"pi pi-times",onClick:n=>e(),severity:"secondary"},null,8,["onClick"])]),filterapply:l(({filterCallback:e})=>[t(m,{type:"button",icon:"pi pi-check",onClick:n=>e(),severity:"success"},null,8,["onClick"])]),_:1}),t(c,{header:"Email",filterField:"country.name",style:{"min-width":"12rem"}},{body:l(({data:e})=>[r("div",z,[r("span",null,v(e.country.name)+"@gmail.com",1)])]),filter:l(({filterModel:e})=>[t(y,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by country"},null,8,["modelValue","onUpdate:modelValue"])]),filterclear:l(({filterCallback:e})=>[t(m,{type:"button",icon:"pi pi-times",onClick:n=>e(),severity:"secondary"},null,8,["onClick"])]),filterapply:l(({filterCallback:e})=>[t(m,{type:"button",icon:"pi pi-check",onClick:n=>e(),severity:"success"},null,8,["onClick"])]),_:1}),t(c,{header:"Joining Date",filterField:"date",dataType:"date",style:{"min-width":"10rem"}},{body:l(({data:e})=>[f(v(k(e.date)),1)]),filter:l(({filterModel:e})=>[t(N,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(c,{header:"Total Payment",filterField:"balance",dataType:"numeric",style:{"min-width":"10rem"}},{body:l(({data:e})=>[f(v(w(e.balance)),1)]),filter:l(({filterModel:e})=>[t(F,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(c,{field:"verified",header:"Activated",dataType:"boolean",bodyClass:"text-center",style:{"min-width":"8rem"}},{body:l(({data:e})=>[r("i",{class:P(["pi",{"text-green-500 pi-check-circle":e.verified,"text-red-600 pi-times-circle":!e.verified}])},null,2)]),filter:l(({filterModel:e})=>[t(A,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value","filters","loading"])])])])}}};export{Z as default};
