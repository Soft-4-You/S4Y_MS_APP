import{r as i,a as J,p as M,q as g,s as x,d,e as w,f as D,i as a,k as t,l as o,j as m,t as V,h as X}from"./index-0d364d6b.js";import{C as Y}from"./CustomerService-cbe06d98.js";const Z={class:"grid"},ee={class:"col-12"},le={class:"card"},te={class:"flex justify-content-between flex-column sm:flex-row mb-2"},ae={class:"flex gap-2"},oe={class:"flex align-items-center gap-2"},ne=["alt","src"],de={key:0},se={class:"field grid"},ie={class:"col-12"},ue={class:"field grid"},re={class:"col-12"},me={key:1},pe={class:"field grid"},ce={class:"col-12"},ve={class:"field grid"},ye={class:"col-12"},fe={class:"field grid"},be={class:"col-12"},_e={class:"mt-3"},Ue={__name:"Incomes",setup(ge){const h=i(null),c=i(null),I=i(null),k=i(null),A=J(),y=i(!1),B=new Y,R=()=>{A.add({severity:"success",summary:"Success",detail:"File Uploaded",life:3e3})};M(()=>{B.getCustomersLarge().then(p=>{h.value=p,I.value=!1,h.value.forEach(l=>l.date=new Date(l.date))}),k.value=!1,T()});const T=()=>{c.value={global:{value:null,matchMode:g.CONTAINS},name:{operator:x.AND,constraints:[{value:null,matchMode:g.STARTS_WITH}]},date:{operator:x.AND,constraints:[{value:null,matchMode:g.DATE_IS}]},status:{operator:x.OR,constraints:[{value:null,matchMode:g.EQUALS}]}}},E=()=>{T()},U=p=>p.toLocaleDateString("en-UK",{day:"2-digit",month:"2-digit",year:"numeric"}),v=i(""),C=i(["Income","Expense"]),L=i([{label:"Invoice"},{label:v}]),s=i(0),f=i("Next"),b=i(!1),P=()=>{s.value=0,f.value="Next",b.value=!0,y.value=!0},$=()=>{y.value=!1},j=()=>{s.value<1&&(s.value++,b.value=!1),s.value===1&&(f.value="Add")},K=()=>{s.value!==0&&s.value--,s.value===0&&(b.value=!0,f.value="Next")};return(p,l)=>{const u=d("Button"),O=d("InputIcon"),_=d("InputText"),z=d("IconField"),r=d("Column"),F=d("InputNumber"),S=d("Calendar"),H=d("DataTable"),q=d("Steps"),N=d("Dropdown"),Q=d("FileUpload"),W=d("Textarea"),G=d("Dialog");return w(),D("div",Z,[a("div",ee,[a("div",le,[l[20]||(l[20]=a("h5",null,"Income",-1)),t(H,{value:h.value,paginator:!0,rows:15,dataKey:"id",rowHover:!0,filters:c.value,"onUpdate:filters":l[2]||(l[2]=e=>c.value=e),filterDisplay:"menu",loading:I.value,globalFilterFields:["name","status"]},{header:o(()=>[a("div",te,[a("div",ae,[t(u,{type:"button",icon:"pi pi-upload",label:"Upload",onClick:P}),t(u,{type:"button",icon:"pi pi-filter-slash",label:"Clear",outlined:"",onClick:l[0]||(l[0]=e=>E())})]),t(z,{iconPosition:"left"},{default:o(()=>[t(O,{class:"pi pi-search"}),t(_,{modelValue:c.value.global.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value.global.value=e),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])]),_:1})])]),empty:o(()=>l[8]||(l[8]=[m(" No invoices found. ")])),loading:o(()=>l[9]||(l[9]=[m(" Loading invoices data. Please wait. ")])),default:o(()=>[t(r,{field:"name",header:"Name",style:{"min-width":"12rem"}},{body:o(({data:e})=>[a("div",oe,[a("img",{alt:e.representative.name,src:`https://primefaces.org/cdn/primevue/images/avatar/${e.representative.image}`,style:{width:"32px"}},null,8,ne),a("span",null,V(e.name),1)])]),filter:o(({filterModel:e})=>[t(_,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{field:"name",header:"Type",style:{"min-width":"12rem"}},{body:o(({data:e})=>l[10]||(l[10]=[m(" Domain/Package/employee payment ")])),filter:o(({filterModel:e})=>[t(_,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{header:"Amount",filterField:"balance",dataType:"numeric",style:{"min-width":"10rem"}},{body:o(({data:e})=>l[11]||(l[11]=[m(" $70,663.00 ")])),filter:o(({filterModel:e})=>[t(F,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{field:"name",header:"Related",style:{"min-width":"12rem"}},{body:o(({data:e})=>l[12]||(l[12]=[m(" Related to: project/product link ")])),filter:o(({filterModel:e})=>[t(_,{type:"text",modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{header:"Invoice Date",filterField:"date",dataType:"date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[m(V(U(e.date)),1)]),filter:o(({filterModel:e})=>[t(S,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{header:"Invoice Due Date",filterField:"date",dataType:"date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[m(V(U(e.date)),1)]),filter:o(({filterModel:e})=>[t(S,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{header:"Receipt Date",filterField:"date",dataType:"date",style:{"min-width":"10rem"}},{body:o(({data:e})=>[m(V(U(e.date)),1)]),filter:o(({filterModel:e})=>[t(S,{modelValue:e.value,"onUpdate:modelValue":n=>e.value=n,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),t(r,{field:"status",header:"Invoice",style:{"min-width":"8rem"}},{body:o(()=>[t(u,{label:"View",outlined:""})]),_:1}),t(r,{field:"status",header:"Receipt",style:{"min-width":"8rem"}},{body:o(()=>[t(u,{label:"View",outlined:""}),l[13]||(l[13]=m(" / ")),t(u,{label:"Upload",severity:"contrast",outlined:""})]),_:1}),t(r,{field:"status",header:"Actions",style:{"min-width":"8rem"}},{body:o(()=>[t(u,{icon:"pi pi-pencil",severity:"warning",class:"mr-2"}),t(u,{icon:"pi pi-trash",severity:"danger"})]),_:1})]),_:1},8,["value","filters","loading"]),t(G,{header:"Add Invoice",visible:y.value,"onUpdate:visible":l[7]||(l[7]=e=>y.value=e),modal:!0,style:{"max-height":"500px"},class:"add-product-dialog"},{footer:o(()=>[a("div",_e,[t(u,{label:"cancel",icon:"pi pi-times",onClick:$,class:"p-button-text",severity:"danger"}),t(u,{label:"previous",disabled:b.value,icon:"pi pi-chevron-left",onClick:K,class:"p-button-text"},null,8,["disabled"]),t(u,{label:f.value,icon:"pi pi-chevron-right",onClick:j,class:"p-button-text"},null,8,["label"])])]),default:o(()=>[t(q,{activeStep:s.value,"onUpdate:activeStep":l[3]||(l[3]=e=>s.value=e),readonly:!1,model:L.value,class:"mb-6"},null,8,["activeStep","model"]),s.value===0?(w(),D("div",de,[a("div",se,[l[14]||(l[14]=a("label",{for:"type",class:"col-12 mb-2"},"Type",-1)),a("div",ie,[t(N,{id:"type",modelValue:v.value,"onUpdate:modelValue":l[4]||(l[4]=e=>v.value=e),options:C.value,placeholder:"Select type ..."},null,8,["modelValue","options"])])]),a("div",ue,[l[16]||(l[16]=a("label",{for:"price",class:"col-12 mb-2"},"Contract file",-1)),a("div",re,[t(Q,{name:"demo[]",onUpload:R,multiple:!0,accept:"image/*",maxFileSize:1e6},{empty:o(()=>l[15]||(l[15]=[a("p",null,"Drag and drop files to here to upload.",-1)])),_:1})])])])):s.value===1?(w(),D("div",me,[a("div",pe,[l[17]||(l[17]=a("label",{for:"type",class:"col-12 mb-2"},"Category (payment/product)",-1)),a("div",ce,[t(N,{id:"type",modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=e=>v.value=e),options:C.value,placeholder:"Select type ..."},null,8,["modelValue","options"])])]),a("div",ve,[l[18]||(l[18]=a("label",{class:"col-12 mb-2"},"Amount",-1)),a("div",ye,[t(F,{modelValue:p.packagePrice1,"onUpdate:modelValue":l[6]||(l[6]=e=>p.packagePrice1=e),inputId:"currency-us",mode:"currency",currency:"USD",locale:"en-US",placeholder:"$#,##"},null,8,["modelValue"])])]),a("div",fe,[l[19]||(l[19]=a("label",{for:"details",class:"col-12 mb-2"},"Details",-1)),a("div",be,[t(W,{id:"details",placeholder:"details ...",autoResize:!0,rows:"3"})])])])):X("",!0)]),_:1},8,["visible"])])])])}}};export{Ue as default};
