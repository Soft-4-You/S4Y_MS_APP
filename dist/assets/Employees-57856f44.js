import{r as p,c as R,p as O,q as m,s as _,d as i,e as U,f as b,i as u,k as l,l as t,j as r,t as o,v as W}from"./index-c8a9da24.js";import{C as H}from"./CustomerService-cbe06d98.js";import{P as Q}from"./ProductService-74c45874.js";const j={class:"grid"},K={class:"col-12"},P={class:"card"},J={class:"flex justify-content-between flex-column sm:flex-row"},z={class:"flex align-items-center gap-2"},G=["alt","src"],X={class:"flex align-items-center gap-2"},Y={class:"flex align-items-center gap-2"},Z={class:"flex flex-wrap gap-2"},ee={key:1},oe={__name:"Employees",setup(te){const g=p(null),S=p(null),x=p(null),y=p(null),V=p(null),T=p(null),k=p(null),D=R(["unqualified","qualified","new","negotiation","renewal","proposal"]),C=new H,I=new Q,c=s=>{switch(s){case"unqualified":return"danger";case"qualified":return"success";case"new":return"info";case"negotiation":return"warning";case"renewal":return null}};O(()=>{I.getProductsWithOrdersSmall().then(s=>k.value=s),C.getCustomersLarge().then(s=>{g.value=s,V.value=!1,g.value.forEach(n=>n.date=new Date(n.date))}),C.getCustomersLarge().then(s=>S.value=s),C.getCustomersMedium().then(s=>x.value=s),T.value=!1,w()});const w=()=>{y.value={global:{value:null,matchMode:m.CONTAINS},name:{operator:_.AND,constraints:[{value:null,matchMode:m.STARTS_WITH}]},"country.name":{operator:_.AND,constraints:[{value:null,matchMode:m.STARTS_WITH}]},representative:{value:null,matchMode:m.IN},date:{operator:_.AND,constraints:[{value:null,matchMode:m.DATE_IS}]},balance:{operator:_.AND,constraints:[{value:null,matchMode:m.EQUALS}]},status:{operator:_.OR,constraints:[{value:null,matchMode:m.EQUALS}]},activity:{value:[0,100],matchMode:m.BETWEEN},verified:{value:null,matchMode:m.EQUALS}}},N=()=>{w()},F=s=>s.toLocaleString("en-US",{style:"currency",currency:"USD"}),A=s=>s.toLocaleDateString("en-US",{day:"2-digit",month:"2-digit",year:"numeric"});return(s,n)=>{const f=i("Button"),E=i("InputIcon"),h=i("InputText"),B=i("IconField"),v=i("Column"),d=i("Tag"),L=i("Dropdown"),M=i("Calendar"),$=i("InputNumber"),q=i("DataTable");return U(),b("div",j,[u("div",K,[u("div",P,[n[5]||(n[5]=u("h5",null,"Employees",-1)),l(q,{value:g.value,paginator:!0,rows:15,dataKey:"id",rowHover:!0,filters:y.value,"onUpdate:filters":n[2]||(n[2]=e=>y.value=e),filterDisplay:"menu",loading:V.value,globalFilterFields:["name","country.name","representative.name","balance","status"]},{header:t(()=>[u("div",J,[l(f,{type:"button",icon:"pi pi-filter-slash",label:"Clear",outlined:"",onClick:n[0]||(n[0]=e=>N())}),l(B,{iconPosition:"left"},{default:t(()=>[l(E,{class:"pi pi-search"}),l(h,{modelValue:y.value.global.value,"onUpdate:modelValue":n[1]||(n[1]=e=>y.value.global.value=e),placeholder:"Keyword Search",style:{width:"100%"}},null,8,["modelValue"])]),_:1})])]),empty:t(()=>n[3]||(n[3]=[r(" No customers found. ")])),loading:t(()=>n[4]||(n[4]=[r(" Loading customers data. Please wait. ")])),default:t(()=>[l(v,{field:"name",header:"Name",style:{"min-width":"12rem"}},{body:t(({data:e})=>[u("div",z,[u("img",{alt:e.representative.name,src:`https://primefaces.org/cdn/primevue/images/avatar/${e.representative.image}`,style:{width:"32px"}},null,8,G),u("span",null,o(e.name),1)])]),filter:t(({filterModel:e})=>[l(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,class:"p-column-filter",placeholder:"Search by name"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(v,{header:"Username",filterField:"country.name",style:{"min-width":"12rem"}},{body:t(({data:e})=>[u("div",X,[u("span",null,"_x_"+o(e.country.name)+"_x_",1)])]),filter:t(({filterModel:e})=>[l(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,class:"p-column-filter",placeholder:"Search by country"},null,8,["modelValue","onUpdate:modelValue"])]),filterclear:t(({filterCallback:e})=>[l(f,{type:"button",icon:"pi pi-times",onClick:a=>e(),severity:"secondary"},null,8,["onClick"])]),filterapply:t(({filterCallback:e})=>[l(f,{type:"button",icon:"pi pi-check",onClick:a=>e(),severity:"success"},null,8,["onClick"])]),_:1}),l(v,{header:"Email",filterField:"country.name",style:{"min-width":"12rem"}},{body:t(({data:e})=>[u("div",Y,[u("span",null,o(e.country.name)+"@gmail.com",1)])]),filter:t(({filterModel:e})=>[l(h,{type:"text",modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,class:"p-column-filter",placeholder:"Search by country"},null,8,["modelValue","onUpdate:modelValue"])]),filterclear:t(({filterCallback:e})=>[l(f,{type:"button",icon:"pi pi-times",onClick:a=>e(),severity:"secondary"},null,8,["onClick"])]),filterapply:t(({filterCallback:e})=>[l(f,{type:"button",icon:"pi pi-check",onClick:a=>e(),severity:"success"},null,8,["onClick"])]),_:1}),l(v,{field:"status",header:"Role",filterMenuStyle:{width:"14rem"},style:{width:"15rem"}},{body:t(({data:e})=>[u("div",Z,[l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"]),l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"]),l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"]),l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"]),l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"]),l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"]),l(d,{severity:c(e.status)},{default:t(()=>[r(o(e.status.toUpperCase()),1)]),_:2},1032,["severity"])])]),filter:t(({filterModel:e})=>[l(L,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,options:D,placeholder:"Any",class:"p-column-filter",showClear:!0},{value:t(a=>[a.value?(U(),W(d,{key:0,severity:c(a.value)},{default:t(()=>[r(o(a.value),1)]),_:2},1032,["severity"])):(U(),b("span",ee,o(a.placeholder),1))]),option:t(a=>[l(d,{severity:c(a.option)},{default:t(()=>[r(o(a.option.toUpperCase()),1)]),_:2},1032,["severity"])]),_:2},1032,["modelValue","onUpdate:modelValue","options"])]),_:1}),l(v,{header:"Joining Date",filterField:"date",dataType:"date",style:{"min-width":"10rem"}},{body:t(({data:e})=>[r(o(A(e.date)),1)]),filter:t(({filterModel:e})=>[l(M,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,dateFormat:"mm/dd/yy",placeholder:"mm/dd/yyyy"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(v,{header:"Payment Received",filterField:"balance",dataType:"numeric",style:{"min-width":"10rem"}},{body:t(({data:e})=>[r(o(F(e.balance)),1)]),filter:t(({filterModel:e})=>[l($,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,mode:"currency",currency:"USD",locale:"en-US"},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["value","filters","loading"])])])])}}};export{oe as default};
